---
title: "ECO 395 Homework 2: Taylor Neal"
output: rmarkdown::github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
library(tidyverse)
library(rsample)
library(caret)
library(modelr)
library(glmnet)
library(lubridate)
library(ROCR)
library(foreach)
library(knitr)

capmetro <- read.csv("https://raw.githubusercontent.com/taylorneal/homework-2/master/data/capmetro_UT.csv", header = TRUE)

set.seed(9)
```
## 1) Data visualization: Capital Metro Data for UT


```{r capmetro-hourly, echo = FALSE}
capmetro = capmetro %>%
  mutate(day_of_week = factor(day_of_week, levels = c("Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun")), month = factor(month, levels = c("Sep", "Oct", "Nov")))

capmetro_hourly = capmetro %>% 
  group_by(hour_of_day, day_of_week, month) %>%
  summarise(mean_boarding = mean(boarding, na.rm=T), .groups = "drop")

ggplot(capmetro_hourly) + geom_line(aes(x = hour_of_day, y = mean_boarding, color = month)) + facet_wrap(~day_of_week) + labs(x = "Hour of Day", y = "Mean Number of Boardings", color = "Month") + theme_minimal() + ggtitle("Mean Hourly Capital Metro Boardings (to, from, and around UT)")

```

In the figure above, we consider mean number of Capital Metro boardings during each hour of the day separately for each day of the week. Each month in our data (September, October, and November) is plotted to analyze any changes occurring during this time frame. The hour of peak boardings (and the magnitude of peak boardings) remains quite consistent across all weekdays with only a slight drop off observed for Fridays. Weekends see far lower ridership. It is likely that the average boardings for Mondays in September are relatively lower because the Labor Day holiday is being averaged in as one of only four Mondays during that month in 2018. And we would expect that ridership would be lower on holidays given the decreased reliance on the metro system for commuting. Similarly, the November lines for Wednesday, Thursday, and Friday are likely lower because of the Thanksgiving holiday averaging in amongst the typical weekdays. Overall, this figure seems to indicate that mean boardings across typical workdays are remarkably consistent based on this three month time frame.

```{r boardings-vs-temp, echo = FALSE}

ggplot(capmetro) + geom_point(aes(x = temperature, y = boarding, color = weekend)) + facet_wrap(~hour_of_day) + labs(x = "Temperature (degrees F)", y = "Boardings", color = "Weekend / Weekday") + theme_minimal() + ggtitle("Boardings vs Temperature, Faceted by Hour of the Day")
```

Each dot in the figure above represents number of boardings and temperature during a 15min increment in our Sept.-Nov. 2018 Capital Metro data. The data are faceted by hour of the day in order to compare similar periods of any given day with differing temperatures to explore temperature's causal impact on boardings. Based on the resulting figure, it does not appear that temperature has a noticeable impact on UT student ridership when accounting for hour of the day and whether or not it is a weekday / weekend. 

## 2) Saratoga House Prices

TBU

#### Linear Regression Model

TBU

#### K-nearest-neighbor Regression Model

TBU  

#### Conclusions and Model Performance

TBU

## 3) Classification and Retrospective Sampling

TBU

## 4) Children and Hotel Reservations

TBU